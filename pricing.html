<!doctype html>
<html lang="en">

<head>
    <title>Sprucified Laundary</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700, 900|Playfair+Display:400,900"
        rel="stylesheet">
    <link rel="stylesheet" href="fonts/icomoon/style.css">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">

    <link rel="stylesheet" href="css/jquery.fancybox.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">

    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/style.css">
    <link href="vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
    <style>
        .item-num {
            width: 30%;
            border-radius: 5px;
            outline: none;
            border: 1px solid #7a7a7a;
        }
        .item-num:focus {
            box-shadow: 0 4px 8px 0#18171734, 0 6px 20px 0 #2525252d;
        }
    </style>

    <script type="text/javascript">
        var widgetId1;
        var widgetId2;
        var widgetId3;

        var onloadCallback = function () {
            widgetId = grecaptcha.render('g-recaptcha-pricing-email-subscribe', {
                'sitekey': '6LcXGAwaAAAAACERGUsyY2n7a9plhQTI6X-10q2G'
            });

        };
    </script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer>
    </script>

</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300" id="home-section">


    <div id="overlayer"></div>
    <div class="loader">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>


    <div class="site-wrap">

        <div class="site-mobile-menu site-navbar-target">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div>


        <header class="site-navbar js-sticky-header" role="banner">

            <div class="container">
                <div class="row align-items-center">
            
                    <div class="col-6 col-xl-2 mt-3">
                        <a href="index.html" class="h2 mb-0 ">
                            <h1 class="mb-0 site-logo" style="font-size: 25px; color: #000000;">Sprucified</h1>
                            <h3>
                                <span class="text-primary"
                                    style="position: absolute;top: 30px;left: 70px; font-size: 17px; margin-top: -13px;">Laundries</span>
                            </h3>
                        </a>
                    </div>
            
                </div>
            </div>

        </header>

            <section class="site-blocks-cover" data-aos="fade" style="height: 0px; min-height: 300px;">
                <div class="container">
                    <div class="align-items-center justify-content-center" style="padding-top: 6rem;"> 
                        <div class="col-md-12 mt-lg-5 text-center">
                            <h1 class="mb-4" style="font-family: Arial, Helvetica, sans-serif; font-weight: lighter;">Pricing</h1>
                            <p class="post-meta">Go back to <a href="index.html">Home</a> page</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="site-section bg-light" id="pricing-section">
                <div class="container-fluid">
                    <div class="row mb-5 justify-content-center">
                        <div class="col-md-7 text-center">
                            <p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic
                                life One day.
                            </p>
                        </div>
                    </div>
                    <!-- DataTales Example -->
                    <div class="card shadow mb-4">
                    
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead style="color: #505050;">
                                        <tr>
                                            <th>Id</th>
                                            <th>Service</th>
                                            <th>Price</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Id</th>
                                            <th>Service</th>
                                            <th>Price</th>
                                        </tr>
                                    </tfoot>
                                    <tbody id="dataBody">
                                    <!-- PRE-LOADER -->
                                    <div class="pricingSpinner row justify-content-center pt-4" id="pricingSpinner">
                                        <span class="spinner-border" role="status" style="color: #117ce0;"></span>
                                        <span class="visually-hidden pl-2 pb-5">Fetching Price List Data...</span>
                                    </div>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            
            </section>

        <div id="notification-card2" class="card alert alert-success text-center">
            <p>Notification card</p>
        </div>


        <footer class="site-footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <h2 class="footer-heading mb-4">About Us</h2>
                        <p>Even the all-powerful Pointing has no control about the blind texts it is an almost
                            unorthographic life One day however a small line of blind text by the name of Lorem Ipsum
                            decided to leave for the far World of Grammar.</p>
                    </div>


                    <div class="col-md-3 ml-auto">
                        <h2 class="footer-heading mb-4">Quick Links</h2>
                        <ul class="list-unstyled">
                            <li><a href="#about-section" class="smoothscroll">About Us</a></li>
                            <li><a href="#pricing-section" class="smoothscroll">Pricing</a></li>
                            <li><a href="#testimonials-section" class="smoothscroll">Testimonials</a></li>
                            <li><a href="#contact-section" class="smoothscroll">Contact Us</a></li></ul>
                    </div>

                    <div class="col-md-4">
                        <div class="mb-5">
                            <h2 class="footer-heading mb-4">Follow Us</h2>
                            <a href="#" class="pl-0 pr-3"><span class="icon-facebook"></span></a>
                            <a href="#" class="pl-3 pr-3"><span class="icon-twitter"></span></a>
                            <a href="#" class="pl-3 pr-3"><span class="icon-instagram"></span></a>
                            <a href="#" class="pl-3 pr-3"><span class="icon-linkedin"></span></a>
                        </div>

                        <h2 class="footer-heading mb-4">Subscribe Newsletter</h2>
                        <form action="?" id="pricingEmailForm" method="post" class="footer-subscribe">
                            <div class="input-group mb-3">
                                <input type="text" id="pricingEmail" class="form-control border-secondary text-white bg-transparent"
                                    placeholder="Enter Email" aria-label="Enter Email" aria-describedby="button-addon2">
                                <div class="input-group-append">
                                    <button id="pricingEmailBtn" class="btn btn-primary text-black" type="submit">
                                        <span>Subscribe</span>
                                        <span>
                                            <div id="pricingemailBtnSpinner" class="spinner-grow spinner-grow-sm ml-3" role="status"></div>
                                        </span>
                                    </button>
                                </div>
                                    <br /><br />
                                    <div class="g-recaptcha recaptcha-container" id="g-recaptcha-pricing-email-subscribe">
                                    </div>
                                    <p class="d-none" id="recaptchaPricingValidityEmail" style="color: #ff0000;">reCaptcha must be checked<span
                                            class="icon-exclamation-circle ml-2"></span></p>
                                    <br />
                            </div>
                        </form>

                    </div>
                </div>

                <div class="row pt-5 mt-5 text-left">
                    <div class="col-md-12">
                        <div class="border-top pt-5">
                            <p class="copyright"><small>
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                    Copyright &copy;
                                    <script>document.write(new Date().getFullYear());</script> All rights reserved |
                                    Developed with <i class="icon-heart text-danger" aria-hidden="true"></i> by <a
                                        href="https://twitter.com/TaiwoAdegite" target="__blank">adegitetaiwo</a> | Template by <a href="https://colorlib.com"
                                        target="_blank">Colorlib</a>
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></small>
                            </p>

                        </div>
                    </div>

                </div>

            </div>
        </footer>

    </div> 
    
    <!-- .site-wrap -->

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>


    <!-- Page level plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- <script src="js/api.js"></script> -->
    <script src="js/main.js"></script>
    <script>
        const pricingListApi = () => {
                console.log('Pricing List Api was called..')
                $.ajax({
                    type: 'GET',
                    url: "https://laundary-api.herokuapp.com/api/pricing-list/",
                    headers: {
                    },
                    beforeSend: () => {
                        $('#pricingSpinner').show();
                    },
                    complete: () => {
                        $('#pricingSpinner').hide();

                    },
                    success: (data) => {

                        // no need using the data
                        console.log('data', data)

                        let responce = data['responce']
                        if (responce.length > 0) {
                            let pricingData = ``
                            for (let index = 0; index < responce.length; index++) {
                                const element = responce[index];

                                pricingData += `<tr>
                                            <th>${index + 1}</th>
                                            <th>${element['service']}</th>
                                            <th>‚Ç¶ ${element['price']}:00</th>
                                            </tr>`
                            }
                            dataBody.innerHTML = pricingData;

                            // Call the dataTables jQuery plugin
                            $(document).ready(function () {
                                setTimeout((e) => {
                                    $('#dataTable').DataTable();
                                }, 2000);
                            });


                        }

                    },
                    error: (err) => {
                        // do something
                        console.log('failed to submit: ', err)

                    },
                });

            };
            pricingListApi();

        // hide all preloader and notification div
        $('#notification-card2').hide();
        $('#pricingemailBtnSpinner').hide();

        // email subsciption
        pricingEmailForm.addEventListener('submit', (evt) => {
            console.log('clicked!')
            evt.preventDefault();
            const pricingSubscribeEmailApi = (email, notificationCardId, notificationDivElement, preloaderId) => {
                console.log('Pricing Subscribe Email Api was called..')

                const emailIsValid = (email) => {
                    return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)
                }
                if (!email) {
                    $(`#${notificationCardId}`).show()
                    $(`#${notificationCardId}`).removeClass('alert-success')
                    $(`#${notificationCardId}`).addClass('alert-warning')
                    notificationDivElement.firstElementChild.innerHTML = `Opps!üôÅ You have an email address isn't it. <span class="icon-exclamation-circle pl-2"></span>`

                    setTimeout((e) => {
                        $(`#${notificationCardId}`).hide()
                    }, 5000);

                } else if (emailIsValid(email)) {
                    $.ajax({
                        type: 'POST',
                        url: "https://laundary-api.herokuapp.com/api/email-subscription/",
                        headers: {
                        },
                        data: {
                            email: email
                        },
                        beforeSend: () => {
                            pricingEmailBtn.firstElementChild.innerText = 'Processing..'
                            $(`#${preloaderId}`).show()
                            pricingEmailBtn.setAttribute('disabled', '')
                        },
                        complete: () => {
                            pricingEmailBtn.removeAttribute('disabled', '')
                            pricingEmailBtn.firstElementChild.innerText = 'Subscribe'
                            $(`#${preloaderId}`).hide()
                        },
                        success: (data) => {
                            // no need using the data
                            console.log('data', data)
                            $(`#${notificationCardId}`).show()
                            $(`#${notificationCardId}`).removeClass('alert-warning')
                            $(`#${notificationCardId}`).addClass('alert-success')
                            notificationDivElement.firstElementChild.innerHTML = `Thanks!üòÄ, your <span style="font-weight: bold;">Email</span> has been added to our Mailing List, get ready for some Lovely Laundary Tips. <span class="icon-check pl-2"></span>`

                            pricingEmailForm.reset();
                            setTimeout((e) => {
                                $(`#${notificationCardId}`).hide()
                            }, 7000)
                        },
                        error: (err) => {
                            // do something
                            console.log('failed to submit: ', err)
                            $(`#${notificationCardId}`).show()
                            $(`#${notificationCardId}`).removeClass('alert-success')
                            $(`#${notificationCardId}`).addClass('alert-warning')

                            if (err['responseJSON']['email']) {
                                let apiErrorMessage = err['responseJSON']['email']
                                notificationDivElement.firstElementChild.innerHTML = `üôÅ ${apiErrorMessage[0]} <span class="icon-exclamation-circle pl-2"></span>`
                            } else {
                                notificationDivElement.firstElementChild.innerHTML = `Opps!üôÅ something went wrong, Please Try again. <span class="icon-exclamation-circle pl-2"></span>`
                            }

                            setTimeout((e) => {
                                $(`#${notificationCardId}`).hide()
                                pricingEmailBtn.firstElementChild.innerText = "Subscribe"
                            }, 5000)
                        },
                    });

                } else {
                    $(`#${notificationCardId}`).show()
                    $(`#${notificationCardId}`).removeClass('alert-success')
                    $(`#${notificationCardId}`).addClass('alert-warning')
                    notificationDivElement.firstElementChild.innerHTML = `Invalid Email!üôÅ Please check what you entered and try again. <span class="icon-exclamation-circle pl-2"></span>`

                    setTimeout((e) => {
                        $(`#${notificationCardId}`).hide();
                    }, 5000)

                }

            };


            let notificationDiv2 = document.getElementById('notification-card2');
            
            let recaptcha = document.getElementById('g-recaptcha-pricing-email-subscribe')
            let validity = document.getElementById('recaptchaPricingValidityEmail')

            let grecaptchaRes = grecaptcha.getResponse(widgetId);

            if (grecaptchaRes.length == 0) {
                validity.classList.remove('d-none')
            } else {
                validity.classList.add('d-none')  
                pricingSubscribeEmailApi(pricingEmail.value, 'notification-card2', notificationDiv2, 'pricingemailBtnSpinner');

            }

        });
        
    </script>

    <script>
        

    </script>

</body>

</html>